webpackJsonp([1],{0:function(e,t){},1:function(e,t){},2:function(e,t){},"7zck":function(e,t){},NHnr:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l("7+uW"),n=l("fZjL"),r=l.n(n),s=l("mtWM"),a=l.n(s),o=l("i9dp"),c=l.n(o),v={data:function(){return{dialog:!1,drawer:null,tabModal:"tab-home",errors:[],searchTerm:"",text:"",selectIntermines:{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Select Intermines",model:!0,children:[]},filters:{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Filters",model:!0,children:[{text:"Plants"}]},scoreFilter:"1",selected:[],selectedFilters:[],category:[],categoryFilters:[],searchActive:!1,emptyResultMines:[],failedSearchMines:[],protocol:document.location.protocol,host:document.location.host,modalData:null}},methods:{searchMine:function(){var e=this;""!==e.searchTerm.trim()&&0!==e.selected.length?(e.$router.replace({query:{search:e.searchTerm}}),e.failedSearchMines=[],e.emptyResultMines=[],e.searchActive=!0,e.tabModal="tab-results",e.selectIntermines.model=!1,e.category=[],e.categoryFilters=[],e.selected.map(function(t){t.result=void 0;var l=new c.a.Service({root:t.url}),i={q:e.searchTerm};l.search(i).then(function(l){void 0!==l&&!0===l.wasSuccessful&&200===l.statusCode&&null===l.error?(t.result=l,t.result.searchTerm=e.searchTerm,0===l.results.length&&e.emptyResultMines.push(t.text),100===l.results.length?t.result.fetchMore=!0:t.result.fetchMore=!1,e.pushToCategoryList(l.facets.Category)):e.failedSearchMines.push(t.text),e.$forceUpdate()},function(l){console.log(l),e.failedSearchMines.push(t.text),e.$forceUpdate()})})):alert("Please select a mine and use a search term to search the mines.")},selectAll:function(){var e=this;e.selected=[],e.selectIntermines.children.map(function(t){e.selected.push(t)})},selectNone:function(){this.selected=[]},calculateSearchPoints:function(e){return Math.round(5*Math.max(.1,Math.min(1,e)))},generateReportLink:function(e,t){return t+"/report.do?id="+e},filterResults:function(e){var t=this;return Array.isArray(e)?e.filter(function(e){return t.calculateSearchPoints(e.relevance)>=t.scoreFilter&&t.categoryFilters.indexOf(e.type)>=0}):e},selectColor:function(e){switch(e){case"Genes":case"Genomics":case"genes":case"gene":case"homologues":case"Homologue":case"Homology":case"Genome":case"Gene":return"#8BC34A";case"Proteins":case"proteins":case"ProteinDomain":case"Protein":return"#FFC107";case"publications":case"Author":case"Literature":case"Publication":return"#2196F3";case"Organism":return"#E91E63";case"interactions":case"InteractionTerm":case"InteractionExperiment":case"Complex":case"Interactions":case"Interaction":return"#FF5722";case"GOTerm":case"goAnnotation":case"GOAnnotation":return"#9C27B0";default:return"#cccccc"}},pushToCategoryList:function(e){var t=this;r()(e).forEach(function(e){t.category.indexOf(e)<0&&t.category.push(e),t.categoryFilters.indexOf(e)<0&&t.categoryFilters.push(e)}),t.category.sort()},exampleSearch:function(e){this.searchTerm=e,this.selectAll(),this.searchMine()},changeNeighbourhood:function(e){var t=this;t.selected=[],t.selectIntermines.children.map(function(l){l.neighbourhood.indexOf(e)>=0&&t.selected.push(l)})},showModal:function(e,t){e.url=t,this.modalData=e,this.dialog=!0},loadMoreResults:function(e,t){document.getElementById("loadMsg_"+t.text).innerHTML="Loading...";var l=this,i=new c.a.Service({root:t.url}),n=l.selected.indexOf(t),r={q:e,start:l.selected[n].result.results.length};i.search(r).then(function(e){void 0!==e&&!0===e.wasSuccessful&&200===e.statusCode&&null===e.error&&(e.results.map(function(e){l.selected[n].result.results.push(e)}),100===e.results.length?l.selected[n].result.fetchMore=!0:l.selected[n].result.fetchMore=!1,l.$forceUpdate()),document.getElementById("loadMsg_"+t.text).innerHTML="Load more"})}},created:function(){var e=this;a.a.get("https://registry.intermine.org/service/instances").then(function(t){t.data.instances.map(function(t){e.selectIntermines.children.push({text:t.name,url:t.url,neighbourhood:t.neighbours})})}).then(function(){e.$route.query.search&&(e.selectAll(),e.searchTerm=e.$route.query.search,e.searchMine())})}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-app",{attrs:{id:"inspire"}},[l("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[l("v-list",{attrs:{dense:""}},[[l("v-list-tile",{on:{click:function(e){}}},[l("v-list-tile-action",[l("v-icon",[e._v("home")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n              Home\n            ")])],1)],1),e._v(" "),l("v-list-group",{attrs:{"prepend-icon":e.selectIntermines.model?e.selectIntermines.icon:e.selectIntermines["icon-alt"],"append-icon":"",id:"minesBox"},model:{value:e.selectIntermines.model,callback:function(t){e.$set(e.selectIntermines,"model",t)},expression:"selectIntermines.model"}},[l("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n                "+e._s(e.selectIntermines.text)+"\n              ")])],1)],1),e._v(" "),l("v-list-tile",{on:{click:e.selectAll}},[l("v-list-tile-action",[l("v-icon",{attrs:{color:"teal"}},[e._v("done_all")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n                Select All\n              ")])],1)],1),e._v(" "),l("v-list-tile",{on:{click:e.selectNone}},[l("v-list-tile-action",[l("v-icon",{attrs:{color:"teal"}},[e._v("filter_none")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n                Select None\n              ")])],1)],1),e._v(" "),l("v-list-tile",{on:{click:function(t){e.changeNeighbourhood("MODs")}}},[l("v-list-tile-action",[l("v-icon",{attrs:{color:"red"}},[e._v("image_search")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n                Only MODs\n              ")])],1)],1),e._v(" "),l("v-list-tile",{on:{click:function(t){e.changeNeighbourhood("Plants")}}},[l("v-list-tile-action",[l("v-icon",{attrs:{color:"green"}},[e._v("image_search")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n                Only Plants\n              ")])],1)],1),e._v(" "),e._l(e.selectIntermines.children,function(t,i){return l("v-list-tile",{key:i,on:{click:function(e){}}},[l("v-list-tile-action"),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("v-checkbox",{attrs:{ripple:!1,label:t.text,color:"success",value:t},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)})],2),e._v(" "),l("v-radio-group",{attrs:{id:"relevanceBox"},on:{change:e.filterResults},model:{value:e.scoreFilter,callback:function(t){e.scoreFilter=t},expression:"scoreFilter"}},[l("v-list-tile",[l("v-list-tile-action",[l("v-icon",{attrs:{color:"yellow"}},[e._v("star")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n                Relevance Score\n              ")])],1)],1),e._v(" "),l("v-list-tile",[l("v-list-tile-action"),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("v-radio",{attrs:{ripple:!1,color:"orange",label:"4+ points",value:"4"}})],1)],1)],1),e._v(" "),l("v-list-tile",[l("v-list-tile-action"),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("v-radio",{attrs:{ripple:!1,color:"orange",label:"3+ points",value:"3"}})],1)],1)],1),e._v(" "),l("v-list-tile",[l("v-list-tile-action"),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("v-radio",{attrs:{ripple:!1,color:"orange",label:"2+ points",value:"2"}})],1)],1)],1),e._v(" "),l("v-list-tile",[l("v-list-tile-action"),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("v-radio",{attrs:{ripple:!1,color:"orange",label:"1+ points",value:"1"}})],1)],1)],1)],1),e._v(" "),l("v-list-tile",{attrs:{id:"categoryBox"}},[l("v-list-tile-action",[l("v-icon",[e._v("view_list")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n              Category Filter\n            ")])],1)],1),e._v(" "),0==e.category.length?l("v-list-tile",[l("v-list-tile-action",[l("v-icon")],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n              --EMPTY--\n            ")])],1)],1):e._e(),e._v(" "),e._l(e.category,function(t,i){return 0!=e.category.length?l("v-list-tile",{key:i,on:{click:function(e){}}},[l("v-list-tile-action",[l("v-icon",{style:{color:e.selectColor(t)}},[e._v("layers")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("v-checkbox",{attrs:{ripple:!1,label:t,color:"success",value:t},model:{value:e.categoryFilters,callback:function(t){e.categoryFilters=t},expression:"categoryFilters"}})],1)],1)],1):e._e()}),e._v(" "),l("v-list-tile",{on:{click:function(e){}}},[l("v-list-tile-action",[l("v-icon",[e._v("chat_bubble")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n              Chat with us!\n            ")])],1)],1),e._v(" "),l("v-list-tile",{attrs:{id:"tourBtn"},on:{click:function(e){}}},[l("v-list-tile-action",[l("v-icon",[e._v("help")])],1),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[e._v("\n              Feature Tour\n            ")])],1)],1)]],2)],1),e._v(" "),l("v-toolbar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"teal darken-3",dark:"",app:"",fixed:""}},[l("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"18em"},attrs:{id:"app_title"}},[l("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),l("span",{staticClass:"hidden-sm-and-down"},[e._v("Cross Intermine Search Tool")])],1),e._v(" "),l("v-layout",{staticStyle:{"max-width":"650px"},attrs:{row:"","align-center":"",id:"searchBox"}},[l("v-text-field",{attrs:{"single-line":"","hide-details":"",flat:"","solo-inverted":"","prepend-icon":"search",label:"Search"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchMine(t):null}},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1),e._v(" "),l("v-spacer"),e._v(" "),l("v-btn",{attrs:{icon:"",large:"",id:"tourBtn1"}},[l("v-avatar",{attrs:{size:"2em",tile:""}},[l("v-icon",[e._v("help")])],1)],1),e._v(" "),l("v-btn",{attrs:{icon:"",large:""}},[l("v-avatar",{attrs:{size:"2em",tile:""}},[l("img",{attrs:{src:"/static/assets/logo.png",alt:"IM"}})])],1)],1),e._v(" "),null!=e.modalData?[l("v-dialog",{attrs:{"max-width":"60%",scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[l("v-card",[l("v-card-title",{staticClass:"headline"},[l("strong",[e._v(" Type - "+e._s(e.modalData.type)+" |  ")]),e._v(" "),l("small",[e._v("\n            Relevance Score  \n          ")]),e._v(" "),e._l(e.calculateSearchPoints(e.modalData.relevance),function(t){return[l("v-icon",{key:t+"_active",attrs:{small:"",color:"red"}},[e._v("lens")])]})],2),e._v(" "),l("v-card-text",[e._l(e.modalData.fields,function(t,i,n){return[l("span",{key:n},[l("strong",[e._v(e._s(i.toUpperCase()))]),e._v(" - "+e._s(t)+" ")]),l("br")]})],2),e._v(" "),l("v-card-actions",[l("v-btn",{attrs:{dark:"",ripple:!1,target:"_blank",color:"green ",href:e.generateReportLink(e.modalData.id,e.modalData.url)}},[l("v-icon",{attrs:{color:"white"}},[e._v("open_in_new")]),e._v(" Open Portal\n          ")],1),e._v(" "),l("v-spacer"),e._v(" "),l("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Close")])],1)],1)],1)]:e._e(),e._v(" "),l("v-content",[l("v-tabs",{attrs:{dark:"",color:"teal darken-1",grow:""},model:{value:e.tabModal,callback:function(t){e.tabModal=t},expression:"tabModal"}},[l("v-tabs-slider",{attrs:{color:"yellow"}}),e._v(" "),[l("v-tab",{attrs:{href:"#tab-home",ripple:!1}},[e._v("\n          Home\n        ")]),e._v(" "),e.searchActive?l("v-tab",{attrs:{href:"#tab-results",ripple:!1}},[e._v("\n          Results\n        ")]):e._e()],e._v(" "),l("v-tabs-items",{attrs:{fixed:""}},[l("v-tab-item",{attrs:{id:"tab-home"}},[[l("div",{staticClass:"grey lighten-3",staticStyle:{margin:"auto"},attrs:{id:"e3"}},[l("v-card",[l("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[l("v-layout",{attrs:{row:"",wrap:""}},[l("v-flex",{attrs:{xs12:""}},[l("v-card",{attrs:{color:"green darken-1",dark:"",raised:"",height:"100%"}},[l("v-container",{attrs:{fluid:"","grid-list-lg":""}},[l("v-layout",{attrs:{row:""}},[l("v-flex",[l("v-card-media",{attrs:{src:"https://cdn.rawgit.com/intermine/design-materials/f5f00be4/logos/intermine/intermine.png",height:"4em",contain:""}}),e._v(" "),l("br"),e._v(" "),l("div",[l("h1",[e._v("Cross Intermine Search Tool")]),l("br"),e._v(" "),l("p",{staticStyle:{"font-size":"larger"}},[e._v("Select the Intermines you are interested in; and type a search keyword or symbol into the searchbar up the top and hit enter.\n                                  If you're not sure what Intermines to choose or what to search, check out the results for "),l("span",{staticClass:"example",on:{click:function(t){e.exampleSearch("adh")}}},[e._v("ADH")]),e._v(", "),l("span",{staticClass:"example",on:{click:function(t){e.exampleSearch("brca1")}}},[e._v("BRCA1")]),e._v(" or "),l("span",{staticClass:"example",on:{click:function(t){e.exampleSearch("gata1")}}},[e._v("GATA1")])])])],1)],1)],1)],1)],1)],1)],1)],1)],1)]],2),e._v(" "),l("v-tab-item",{attrs:{id:"tab-results"}},[["https:"===this.protocol?l("v-alert",{attrs:{value:!0,type:"warning"}},[e._v("\n              You're currently viewing the HTTPS website. Due to security limitations, we are unable to show results from HTTP-only InterMines. You may be able to see more results if you reload this site via HTTP - ["),l("a",{staticStyle:{color:"inherit"},attrs:{href:"http://"+this.host}},[e._v(e._s("http://"+this.host))]),e._v("].\n            ")]):e._e(),e._v(" "),0!=this.failedSearchMines.length?l("v-alert",{attrs:{value:!0,type:"error"}},[e._v("\n              Something went wrong in the following mine(s): "),e._l(this.failedSearchMines,function(t){return l("span",{key:t},[e._v(" "+e._s(t)+" /")])})],2):e._e(),e._v(" "),0!=this.emptyResultMines.length?l("v-alert",{attrs:{value:!0,type:"info"}},[e._v("\n              Some mines didn't return results: "),e._l(this.emptyResultMines,function(t){return l("span",{key:t},[e._v(" "+e._s(t)+" /")])})],2):e._e(),e._v(" "),e._l(this.selected,function(t,i){return l("v-card",{key:i},[e.emptyResultMines.indexOf(t.text)<0&&e.failedSearchMines.indexOf(t.text)<0&&void 0!=t.result?l("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[l("v-layout",{attrs:{row:""}},[l("v-flex",{attrs:{xs12:""}},[l("v-toolbar",{attrs:{color:"green darken-1",dark:"",flat:""}},[l("v-toolbar-title",[e._v(e._s(t.text)+" ")]),e._v(" "),l("v-spacer"),e._v(" "),void 0!=t.result&&void 0!=t.result.totalHits?l("span",[l("strong",[l("small",[e._v("\n                              (Total hits : "+e._s(t.result.totalHits)+")\n                            ")])])]):e._e()],1),e._v(" "),l("v-card",{staticStyle:{"overflow-y":"auto"},attrs:{height:"300"}},[l("v-list",{attrs:{"three-line":"",subheader:""}},[void 0==t.result?[l("h3",{staticStyle:{"text-align":"center"}},[e._v("Loading...")])]:0==e.filterResults(t.result.results).length?[l("h3",{staticStyle:{"text-align":"center"}},[e._v("No results found.")])]:[e._l(e.filterResults(t.result.results),function(i,n){return l("v-list-tile",{key:n,style:{color:e.selectColor(i.type)},attrs:{avatar:""},on:{click:function(l){e.showModal(i,t.url)}}},[l("v-list-tile-avatar",[l("strong",[e._v(e._s(n+1))])]),e._v(" "),l("v-list-tile-content",[l("v-list-tile-title",[l("strong",[e._v("Type - "+e._s(i.type)+" | ")]),e._v(" "),l("small",[l("strong",[e._v("Relevance Score  ")])]),e._v(" "),e._l(e.calculateSearchPoints(i.relevance),function(t){return[l("v-icon",{key:t+"_active",attrs:{small:"",color:"red"}},[e._v("lens")])]})],2),e._v(" "),l("v-list-tile-sub-title",[e._l(i.fields,function(t,i,n){return[l("span",{key:n},[l("strong",[e._v("| "+e._s(i.toUpperCase()))]),e._v(" - "+e._s(t)+" ")])]})],2)],1),e._v(" "),l("v-list-tile-action",[l("v-btn",{attrs:{icon:"",ripple:"",target:"_blank",color:"orange lighten-2",href:e.generateReportLink(i.id,t.url)},on:{click:function(e){e.stopPropagation()}}},[l("v-icon",{attrs:{color:"white"}},[e._v("open_in_new")])],1)],1)],1)}),e._v(" "),void 0!=t.result.fetchMore&&!0===t.result.fetchMore?[l("h3",{staticStyle:{"text-align":"center",cursor:"pointer"},attrs:{id:"loadMsg_"+t.text},on:{click:function(l){e.loadMoreResults(t.result.searchTerm,t)}}},[e._v("\n                              Load more\n                            ")])]:e._e()]],2)],1)],1)],1),e._v(" "),l("br")],1):e._e()],1)})]],2)],1)],2)],1)],2)},staticRenderFns:[]};var d=l("VU/8")(v,u,!1,function(e){l("xpwD")},null,null).exports,h=l("/ocq");i.a.use(h.a);var _=new h.a({routes:[{path:"/",name:"App",component:d}]}),p=l("3EgV"),m=l.n(p);l("7zck");i.a.use(m.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),i.a.config.productionTip=!1,new i.a({el:"#app",router:_,components:{App:d},template:"<App/>"})},xpwD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.37a58b340486d7bebd47.js.map